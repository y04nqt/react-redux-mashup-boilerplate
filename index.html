<!doctype html>
<html>

<head>
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<title>Qlik Sense Mashup</title>
	<meta charset="utf-8">
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<meta name="HandheldFriendly" content="True">
	<meta name="MobileOptimized" content="320">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
	<meta http-equiv="cleartype" content="on">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
	<link rel="stylesheet" href="../../resources/autogenerated/qlik-styles.css">
	<link rel="stylesheet" href="styles/style.css">
	<script src="../../resources/assets/external/requirejs/require.js"></script>
	<script>
		"use strict";
		(function() {
			var config = {
				host: window.location.hostname,
				prefix: window.location.pathname.substr(0, window.location.pathname.toLowerCase().lastIndexOf("/extensions") + 1),
				port: window.location.port,
				isSecure: window.location.protocol === "https:"
			};
			// Configure Require To Point To Qlik
			require.config({
				baseUrl: (config.isSecure ? "https://" : "http://") + config.host + (config.port ? ":" + config.port : "") + config.prefix + "resources"
			});
			require(["js/qlik"], function(qlik) {

				if(window.location.hostname === "localhost") {
					var app = qlik.openApp("react-test-app.qvf", config);
				} else {
					var app = qlik.openApp("763f935d-7781-4d92-98d8-f83001bef6ef", config);
				}

				window.qlikApp = app;

				var bundle = document.createElement("script");
				bundle.src = "./dist/bundle.min.js"
				document.getElementById('main-body').appendChild(bundle)

			});
		}());
	</script>
</head>

<body id="main-body">
	<!--Error Popup-->
	<div id="popup">
		<button type="button" class="close" data-dismiss="modal" aria-label="Close" id="closePopup"><span aria-hidden="true">Ã—</span></button>
		<p id="popupText"></p>
	</div>
	<div id="root">
	</div>
	<!-- <script src="./dist/bundle.min.js"></script> -->
</body>

</html>
